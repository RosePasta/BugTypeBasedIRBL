<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 17:43:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SHDP-440/SHDP-440.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SHDP-440] DefaultAllocateCountTracker.addContainers looks like it will miscount requests by rack if two hosts on the same rack are specified</title>
                <link>https://jira.spring.io/browse/SHDP-440</link>
                <project id="10801" key="SHDP">Spring for Apache Hadoop</project>
                    <description>&lt;p&gt;This code is used to keep track of host on a rack.&lt;/p&gt;

&lt;p&gt;rackCountsAdded.put(resolvedRack, entry.getValue());&lt;/p&gt;

&lt;p&gt;I think there should be a check for an existing entry in rackCountsAdded and that entry should be incremented if it exists.&lt;/p&gt;</description>
                <environment></environment>
        <key id="60894">SHDP-440</key>
            <summary>DefaultAllocateCountTracker.addContainers looks like it will miscount requests by rack if two hosts on the same rack are specified</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="jvalkeal">Janne Valkealahti</assignee>
                                    <reporter username="berkeleybarry">Barry Schwarz</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Nov 2014 11:32:03 +0000</created>
                <updated>Tue, 23 Dec 2014 02:38:21 +0000</updated>
                            <resolved>Tue, 23 Dec 2014 02:38:21 +0000</resolved>
                                                    <fixVersion>2.1.0 RC1</fixVersion>
                                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="110238" author="jvalkeal" created="Tue, 2 Dec 2014 02:31:14 +0000"  >&lt;p&gt;Thanks, indeed this seems a bit odd and surely looks like a bug. I assume this was with 2.1.0.M2? Anyway I need to create few new unit tests to see why these bugs are not catched. &lt;a href=&quot;https://jira.spring.io/browse/SHDP-441&quot; title=&quot;DefaultAllocateCountTracker looks like it will not process a container allocated by rack correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHDP-441&quot;&gt;&lt;del&gt;SHDP-441&lt;/del&gt;&lt;/a&gt; goes in a same basket.&lt;/p&gt;</comment>
                            <comment id="110905" author="jvalkeal" created="Mon, 22 Dec 2014 23:58:40 +0000"  >&lt;p&gt;Right, I&apos;m going to push a fix to this and &lt;a href=&quot;https://jira.spring.io/browse/SHDP-441&quot; title=&quot;DefaultAllocateCountTracker looks like it will not process a container allocated by rack correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHDP-441&quot;&gt;&lt;del&gt;SHDP-441&lt;/del&gt;&lt;/a&gt;. Thing is that while there clearly is a wrong functionality in terms of what was written into these jiras, bug actually never happens(and thus none of tests failed). This would need usage of multiple hosts and racks in a same DefaultAllocateCountTracker which we currently doesn&apos;t use.&lt;/p&gt;

&lt;p&gt;Limitation is imposed by yarn itself where you cannot do allocation requests which are mixing hosts and racks. In case of that we split these into different DefaultAllocateCountTrackers and use different allocation priorities. Also DefaultAllocateCountTracker is considered to be an internal support class so its usage looks a bit funky.&lt;/p&gt;

&lt;p&gt;Thought it&apos;s good to fix this so that it doesn&apos;t coma back to haunt us in later stages.&lt;/p&gt;</comment>
                            <comment id="110910" author="jvalkeal" created="Tue, 23 Dec 2014 02:38:21 +0000"  >&lt;p&gt;Merged into master&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10151">
                    <name>Relate</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="60895">SHDP-441</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Dec 2014 02:31:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08073:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>