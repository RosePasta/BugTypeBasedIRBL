<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 17:35:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SHDP-308/SHDP-308.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SHDP-308] ClusterBaseTestClassSubmitTests fail on Hadoop 2.3.0 based distros</title>
                <link>https://jira.spring.io/browse/SHDP-308</link>
                <project id="10801" key="SHDP">Spring for Apache Hadoop</project>
                    <description>&lt;p&gt;getting the following exception for both hadoop23 and cdh5:&lt;/p&gt;

&lt;p&gt;08:12:12,935  INFO pool-7-thread-2 amlauncher.AMLauncher - Error launching appattempt_1395403894077_0001_000002. Got exception: org.apache.hadoop.yarn.exceptions.InvalidContainerException: &lt;br/&gt;
Container container_1395403894077_0001_02_000001 rejected as it is allocated by a previous RM&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)&lt;br/&gt;
	at org.apache.hadoop.yarn.api.records.impl.pb.SerializedExceptionPBImpl.instantiateException(SerializedExceptionPBImpl.java:152)&lt;br/&gt;
	at org.apache.hadoop.yarn.api.records.impl.pb.SerializedExceptionPBImpl.deSerialize(SerializedExceptionPBImpl.java:106)&lt;br/&gt;
	at org.apache.hadoop.yarn.server.resourcemanager.amlauncher.AMLauncher.launch(AMLauncher.java:122)&lt;br/&gt;
	at org.apache.hadoop.yarn.server.resourcemanager.amlauncher.AMLauncher.run(AMLauncher.java:249)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:744)&lt;/p&gt;</description>
                <environment></environment>
        <key id="56540">SHDP-308</key>
            <summary>ClusterBaseTestClassSubmitTests fail on Hadoop 2.3.0 based distros</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="jvalkeal">Janne Valkealahti</assignee>
                                    <reporter username="thomas.risberg">Thomas Risberg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Mar 2014 05:53:48 +0000</created>
                <updated>Sat, 22 Mar 2014 07:15:10 +0000</updated>
                            <resolved>Sat, 22 Mar 2014 07:15:10 +0000</resolved>
                                                    <fixVersion>2.0.0.RC1</fixVersion>
                                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="100758" author="jvalkeal" created="Sat, 22 Mar 2014 02:59:16 +0000"  >&lt;p&gt;This seem to be something to do with a new functionality in 2.3.x so that if two miniclusters are running, node managers inside of those clusters are short circuited(no real rpc which would need fixed ports) to talk to resource managers. Now that communication is not based on rcp, within a same jvm these components will see each others(I guess) and things gets mixed up.&lt;/p&gt;

&lt;p&gt;@DirtiesContext(classMode=ClassMode.AFTER_CLASS) in every test class seems to do the trick because it brings the cluster down and next test class starts new cluster components. This might be a short term workaround until we find something better.&lt;/p&gt;</comment>
                            <comment id="100759" author="jvalkeal" created="Sat, 22 Mar 2014 03:11:40 +0000"  >&lt;p&gt;@DirtiesContext doesn&apos;t need to be used if there is only one cluster. We may need to consider to back out of supporting multiple clusters in same jvm. In reality, this is a corner case so maybe things are not so bad after all.&lt;/p&gt;</comment>
                            <comment id="100766" author="jvalkeal" created="Sat, 22 Mar 2014 07:15:10 +0000"  >&lt;p&gt;Merged into master&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 22 Mar 2014 02:59:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07ekn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43233</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>