<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 17:37:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SHDP-187/SHDP-187.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SHDP-187] MiniYarnCluster tests fails on Mac OS X</title>
                <link>https://jira.spring.io/browse/SHDP-187</link>
                <project id="10801" key="SHDP">Spring for Apache Hadoop</project>
                    <description>&lt;p&gt;Have seen this with spring-hadoop build as well as spring-hadoop-samples/yarn/yarn/batch-partition&lt;/p&gt;

&lt;p&gt;Here is the error:&lt;/p&gt;

&lt;p&gt;org.springframework.yarn.examples.BatchPartitionTests &amp;gt; testAppSubmission FAILED&lt;br/&gt;
    java.lang.AssertionError at BatchPartitionTests.java:53&lt;/p&gt;

&lt;p&gt;1 test completed, 1 failed&lt;br/&gt;
:yarn-examples-common:yarn-examples-batch-partition:test FAILED&lt;/p&gt;

&lt;p&gt;Attached logs have more info&lt;/p&gt;</description>
                <environment>Mac OS X 10.8.5&lt;br/&gt;
&lt;br/&gt;
java version &amp;quot;1.7.0_40&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_40-b43)&lt;br/&gt;
</environment>
        <key id="51084">SHDP-187</key>
            <summary>MiniYarnCluster tests fails on Mac OS X</summary>
                <type id="7" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Defect</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="jvalkeal">Janne Valkealahti</assignee>
                                    <reporter username="thomas.risberg">Thomas Risberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2013 09:24:18 +0000</created>
                <updated>Mon, 18 Nov 2013 09:19:07 +0000</updated>
                            <resolved>Mon, 18 Nov 2013 09:18:51 +0000</resolved>
                                    <version>2.0.0.M1</version>
                                    <fixVersion>2.0.0.M3</fixVersion>
                                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="93960" author="thomas.risberg" created="Thu, 26 Sep 2013 12:46:37 +0000"  >&lt;p&gt;Also see this some times:&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: &lt;br/&gt;
Expected: is &amp;lt;0L&amp;gt;&lt;br/&gt;
     but: was &amp;lt;86L&amp;gt;&lt;br/&gt;
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)&lt;br/&gt;
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)&lt;br/&gt;
	at org.springframework.yarn.test.YarnClusterTests.testAppSubmission(YarnClusterTests.java:136)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)&lt;br/&gt;
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)&lt;br/&gt;
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)&lt;br/&gt;
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)&lt;br/&gt;
	at org.springframework.test.context.junit4.statements.SpringFailOnTimeout.evaluate(SpringFailOnTimeout.java:66)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)&lt;br/&gt;
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)&lt;br/&gt;
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)&lt;br/&gt;
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)&lt;br/&gt;
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:80)&lt;br/&gt;
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:47)&lt;br/&gt;
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)&lt;br/&gt;
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:49)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)&lt;br/&gt;
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)&lt;br/&gt;
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)&lt;br/&gt;
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)&lt;br/&gt;
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)&lt;br/&gt;
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:103)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)&lt;br/&gt;
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)&lt;br/&gt;
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:355)&lt;br/&gt;
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:66)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:724)&lt;/p&gt;</comment>
                            <comment id="95591" author="jvalkeal" created="Sat, 16 Nov 2013 08:48:56 +0000"  >&lt;p&gt;Looks like with hadoop 2.2GA this is not an issue anymore. Re-open if necessary...&lt;/p&gt;</comment>
                            <comment id="95618" author="thomas.risberg" created="Mon, 18 Nov 2013 03:32:08 +0000"  >&lt;p&gt;Now I&apos;m seeing some other issues - don&apos;t see these on Linux -&lt;/p&gt;

&lt;p&gt;org.springframework.yarn.test.YarnClusterTests &amp;gt; testAppSubmission1 FAILED&lt;br/&gt;
    org.springframework.yarn.YarnSystemException at YarnClusterTests.java:91&lt;br/&gt;
        Caused by: java.net.BindException at YarnClusterTests.java:91&lt;/p&gt;

&lt;p&gt;org.springframework.yarn.test.YarnClusterTests &amp;gt; testAppSubmission2 FAILED&lt;br/&gt;
    org.springframework.yarn.YarnSystemException at YarnClusterTests.java:91&lt;br/&gt;
        Caused by: java.net.BindException at YarnClusterTests.java:91&lt;/p&gt;

&lt;p&gt;org.springframework.yarn.test.junit.ClusterBaseTestClassSubmitTests &amp;gt; testAppSubmission1 FAILED&lt;br/&gt;
    org.springframework.yarn.YarnSystemException at ClusterBaseTestClassSubmitTests.java:63&lt;br/&gt;
        Caused by: java.net.BindException at ClusterBaseTestClassSubmitTests.java:63&lt;/p&gt;

&lt;p&gt;org.springframework.yarn.test.junit.ClusterBaseTestClassSubmitTests &amp;gt; testAppSubmission2 FAILED&lt;br/&gt;
    org.springframework.yarn.YarnSystemException at ClusterBaseTestClassSubmitTests.java:63&lt;br/&gt;
        Caused by: java.net.BindException at ClusterBaseTestClassSubmitTests.java:63&lt;/p&gt;

&lt;p&gt;stacktrace:&lt;/p&gt;

&lt;p&gt;Caused by: java.net.BindException: Problem binding to &lt;span class=&quot;error&quot;&gt;&amp;#91;Bermuda.local/192.168.0.101:0&amp;#93;&lt;/span&gt; java.net.BindException: Can&apos;t assign requested address; For more details see:  &lt;a href=&quot;http://wiki.apache.org/hadoop/BindException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/BindException&lt;/a&gt;&lt;br/&gt;
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:719)&lt;br/&gt;
	at org.apache.hadoop.ipc.Client.call(Client.java:1351)&lt;br/&gt;
	at org.apache.hadoop.ipc.Client.call(Client.java:1300)&lt;br/&gt;
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:206)&lt;br/&gt;
	at com.sun.proxy.$Proxy38.getNewApplication(Unknown Source)&lt;br/&gt;
	at org.apache.hadoop.yarn.api.impl.pb.client.ApplicationClientProtocolPBClientImpl.getNewApplication(ApplicationClientProtocolPBClientImpl.java:167)&lt;br/&gt;
	at org.springframework.yarn.client.ClientRmTemplate$2.doInYarn(ClientRmTemplate.java:81)&lt;br/&gt;
	at org.springframework.yarn.client.ClientRmTemplate$2.doInYarn(ClientRmTemplate.java:77)&lt;br/&gt;
	at org.springframework.yarn.rpc.YarnRpcAccessor.execute(YarnRpcAccessor.java:106)&lt;br/&gt;
	... 52 more&lt;/p&gt;</comment>
                            <comment id="95620" author="thomas.risberg" created="Mon, 18 Nov 2013 06:39:58 +0000"  >&lt;p&gt;this is due to Mac by default having hostname set to `Computer-name`.local which resolves to assigned IP address rather than localhost. We need to have localhost and hostname resolve to same IP address or use SHDP_HD_RM system property to specify the host to use.&lt;/p&gt;

&lt;p&gt;We also see &quot;2013-11-18 09:36:37.976 java&lt;span class=&quot;error&quot;&gt;&amp;#91;37668:5f03&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&quot; in stderr after changing hostname resolution - so we need to account for this in the tests.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="21412" name="log.txt" size="7635" author="jvalkeal" created="Thu, 26 Sep 2013 11:37:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 Nov 2013 08:48:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37575</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06lwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37277</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>